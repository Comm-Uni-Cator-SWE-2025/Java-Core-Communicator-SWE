<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.geometry.Insets?>

<BorderPane fx:id="borderPane" prefHeight="600.0" prefWidth="400.0" xmlns="http://javafx.com/javafx/24.0.2" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.swe.chat.ChatController">

    <stylesheets>
        <String fx:value="/styles.css" />
    </stylesheets>

    <center>
        <ScrollPane fx:id="scrollPane" fitToWidth="true" styleClass="scroll-pane">
            <content>
                <VBox fx:id="messageContainer" styleClass="message-container" />
            </content>
        </ScrollPane>
    </center>

    <bottom>
        <VBox>
        <HBox fx:id="replyQuoteBox" alignment="CENTER_LEFT" styleClass="reply-quote-box">
            <padding><Insets top="5" right="10" bottom="5" left="10"/></padding>
            <Label fx:id="replyQuoteLabel" text="Replying to: message content..." HBox.hgrow="ALWAYS"/>
            <Button fx:id="cancelReplyButton" onAction="#cancelReply" text="X"/>
        </HBox>
        <HBox fx:id="inputArea" styleClass="input-area">
            <TextField fx:id="messageInputField" promptText="Type a message..." HBox.hgrow="ALWAYS" styleClass="message-input-field" onAction="#handleSendButtonAction"/>
            <Button fx:id="sendButton" onAction="#handleSendButtonAction" styleClass="send-button">
                <graphic>
                    <javafx.scene.shape.SVGPath content="M9.91,12.12,4.88,17.15a1,1,0,0,0,1.41,1.41l5-5a1,1,0,0,0,0-1.41l-5-5a1,1,0,0,0-1.41,1.41Z" fill="white"/>
                </graphic>
            </Button>
            <Button onAction="#simulateIncomingMessage" text="Test Recv" />
        </HBox>
        </VBox>
    </bottom>

</BorderPane>